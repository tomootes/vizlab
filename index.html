<html>
	<head>
		<title>My first Three.js app</title>
		<style>
			body { margin: 0; }
			canvas { width: 100%; height: 100% }
		</style>
	</head>
	<body>
		<div id="container"></div>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r70/three.js"></script>
		<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.js"></script>
		<script src="js/stats.js"></script>
		<script src="js/controls/OrbitalControls.js"></script>
		<script>
			var SCREEN_WIDTH = window.innerWidth;
			var SCREEN_HEIGHT = window.innerHeight;

			var camera, scene;
			var canvasRenderer, webglRenderer;

			var container, mesh, geometry, plane;
			var spheres = [];

			var windowHalfX = window.innerWidth / 2;
			var windowHalfY = window.innerHeight / 2;

			init();
			animate();

				function init() {

				container = document.createElement('div');
				document.body.appendChild(container);

				camera = new THREE.PerspectiveCamera(30, window.innerWidth / window.innerHeight, 1, 100000);
				camera.position.x = 1200;
				camera.position.y = 1000;
				camera.lookAt({
					x: 0,
					y: 0,
					z: 0
				});

				scene = new THREE.Scene();

				var groundMaterial = new THREE.MeshPhongMaterial({
					color: 0xdd0000
				});
				plane = new THREE.Mesh(new THREE.PlaneGeometry(1500, 1500), groundMaterial);
				
				plane.receiveShadow = true;

				// plane.rotation.x = -Math.PI/2; //-90 degrees around the xaxis 

				scene.add(plane);

				// LIGHTS
				scene.add(new THREE.AmbientLight(0x666666));

				var light;

				light = new THREE.DirectionalLight(0xdfebff, 1.75);
				light.position.set(0, 0, 250);
				light.position.multiplyScalar(1.3);

				// light.castShadow = true;
				light.shadowCameraVisible = true;

				light.shadowMapWidth = 512;
				light.shadowMapHeight = 512;

				var d = 200;

				light.shadowCameraLeft = -d;
				light.shadowCameraRight = d;
				light.shadowCameraTop = d;
				light.shadowCameraBottom = -d;

				light.shadowCameraFar = 1000;
				light.shadowDarkness = 0.2;

				scene.add(light);

				var boxgeometry = new THREE.CubeGeometry(100, 100, 100);
				var boxmaterial = new THREE.MeshLambertMaterial({
				    color: 0x0aeedf
				});
				var cube = new THREE.Mesh(boxgeometry, boxmaterial);
				cube.castShadow = true;
				cube.position.x = 0;
				cube.position.y = 100;
				cube.position.z = 0;

					// scene.add(cube);

				drawsphere = function(colour, x, y, z, radius){
					var geometry = new THREE.SphereGeometry( 5, 32, 32 );
					var material = new THREE.MeshBasicMaterial( {color: colour} );
					var sphere = new THREE.Mesh( geometry, material );
					sphere.position.set(x,y,z);
					return sphere;
				}

																				

				var coordinates = [
					[214.941,	458.123,	965.172, "green"],
					[152.602,	408.418,	978.620, "green"],
					[316.173,	355.462,	846.704, "orange"],
					[231.401,	259.385,	851.998, "orange"],
					[224.332,	360.601,	661.931, "red"],
					[389.587,	445.586,	764.057, "red"],
					[447.880,	435.768,	796.473, "blue"],
					[139.971,	209.310,	762.290, "blue"],
					[142.091,	133.569,	803.555, "blue"],
					[78.281,	65.145,		537.104, "blue"],
					[52.074,	106.958,	448.968, "blue"],
					[452.925,	539.338,	434.815, "blue"],
					[510.608,	494.964,	501.101, "blue"],
					[385.194,	588.798,	263.057, "black"],
					[438.003,	588.825,	241.201, "black"],
					[17.035,	120.193,	266.495, "black"],
					[5.440,		70.049,		261.663, "black"],
					[364.849,	397.725,	315.001, "black"],
					[179.061,	235.275, 	323.901, "black"],
					[449.435,	414.219,	141.890, "black"],
					[115.953,	166.509,	144.609, "black"]
				];

				
				for(var i=0;i<coordinates.length;i++){
					spheres[i] = drawsphere(coordinates[i][3],coordinates[i][0],coordinates[i][1],coordinates[i][2],3);	
					spheres[i].rotation.x = -Math.PI/2; //-90 degrees around the xaxis 
					scene.add(spheres[i]);
				}

				// RENDERER
				webglRenderer = new THREE.WebGLRenderer();
				webglRenderer.setSize(SCREEN_WIDTH, SCREEN_HEIGHT);
				webglRenderer.setClearColor( 0xffffff, 1);
				webglRenderer.domElement.style.position = "relative";
				webglRenderer.shadowMapEnabled = true;
				webglRenderer.shadowMapSoft = true;

				// CONTROLS
				controls = new THREE.OrbitControls( camera, webglRenderer.domElement );

				container.appendChild(webglRenderer.domElement);
				window.addEventListener('resize', onWindowResize, false);
			}

			function onWindowResize() {
				windowHalfX = window.innerWidth / 2;
				windowHalfY = window.innerHeight / 2;

				camera.aspect = window.innerWidth / window.innerHeight;
				camera.updateProjectionMatrix();

				webglRenderer.setSize(window.innerWidth, window.innerHeight);
			}

			function animate() {
			    var timer = Date.now() * 0.0002;


			    requestAnimationFrame(animate);
			    render();
			}

			function render() {
			    camera.lookAt(scene.position);
			    webglRenderer.render(scene, camera);
			}
		</script>
	</body>
</html>